(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var t=e.i(43476),r=e.i(75157);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function a({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>n,"CardHeader",()=>a,"CardTitle",()=>i])},72436,48425,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(74080);var s=e.i(91918),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let i=(0,s.createSlot)(`Primitive.${a}`),n=r.forwardRef((e,r)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?i:a,{...n,ref:r})});return n.displayName=`Primitive.${a}`,{...e,[a]:n}},{});e.s(["Primitive",()=>a],48425);var i="horizontal",n=["horizontal","vertical"],d=r.forwardRef((e,r)=>{var s;let{decorative:d,orientation:l=i,...o}=e,c=(s=l,n.includes(s))?l:i;return(0,t.jsx)(a.div,{"data-orientation":c,...d?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...o,ref:r})});d.displayName="Separator";var l=e.i(75157);function o({className:e,orientation:r="horizontal",decorative:s=!0,...a}){return(0,t.jsx)(d,{"data-slot":"separator",decorative:s,orientation:r,className:(0,l.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...a})}e.s(["Separator",()=>o],72436)},93479,e=>{"use strict";var t=e.i(43476),r=e.i(75157);function s({className:e,type:s,...a}){return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}e.s(["Input",()=>s])},10204,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(48425),a=r.forwardRef((e,r)=>(0,t.jsx)(s.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var i=e.i(75157);function n({className:e,...r}){return(0,t.jsx)(a,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>n],10204)},13399,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(15288),a=e.i(19455),i=e.i(93479),n=e.i(10204),d=e.i(72436),l=e.i(28409),o=e.i(81611),c=e.i(50090);function u(){let{mode:e,setMode:u}=(0,l.useNetworkMode)(),{buckets:x,addBucket:h,updateBucket:m,deleteBucket:f}=(0,o.useDossiers)(),[p,g]=r.useState(null),[b,j]=r.useState(""),[v,N]=r.useState(""),C=async()=>{if(confirm("This will delete ALL local data (dossiers, BEEF, headers). Are you sure?"))try{let e=indexedDB.deleteDatabase("chronicle-cold-vault");e.onsuccess=()=>{(0,c.resetDbCache)(),g("All data cleared. Refresh the page to start fresh.")},e.onerror=()=>{g("Failed to clear data.")}}catch(e){g(`Error: ${e instanceof Error?e.message:"Unknown"}`)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Settings"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Configure your Cold Vault preferences."})]}),p&&(0,t.jsx)("div",{className:"rounded-md border border-blue-500/20 bg-blue-500/5 p-3 text-sm text-blue-600 dark:text-blue-400",children:p}),(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:"Network Mode"})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Control whether the app can make network requests."}),(0,t.jsxs)("div",{className:"rounded-md border p-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Current Mode:"}),(0,t.jsx)("p",{className:`text-lg font-semibold ${"offline"===e?"text-orange-600 dark:text-orange-400":"text-green-700 dark:text-green-400"}`,children:"offline"===e?"ðŸ”’ Offline":"ðŸŒ Online"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(a.Button,{variant:"offline"===e?"default":"outline",size:"sm",onClick:()=>u("offline"),disabled:"offline"===e,children:"Go Offline"}),(0,t.jsx)(a.Button,{variant:"online_shielded"===e?"default":"outline",size:"sm",onClick:()=>u("online_shielded"),disabled:"online_shielded"===e,children:"Go Online"})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,t.jsx)("strong",{children:"Offline:"})," No network requests. All data stays local.",(0,t.jsx)("br",{}),(0,t.jsx)("strong",{children:"Online:"})," Allows fetching headers, BEEF proofs, and transaction data from WhatsOnChain."]}),(0,t.jsxs)("div",{className:"rounded-md border border-green-500/30 bg-green-500/5 p-3 space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"ðŸ›¡ï¸ Privacy Shield Active"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"When online, Chronicle protects your privacy with these techniques:"}),(0,t.jsxs)("ul",{className:"text-xs text-muted-foreground space-y-1 ml-4 list-disc",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Batching:"})," Requests grouped in batches of 3-7 items"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Jitter:"})," Random 0.5-3 second delays between requests"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Decoys:"})," 1-2 fake txids added per batch and discarded locally"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Batch delays:"})," 3-8 seconds between batches"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Rate limiting:"})," Max 100 requests/hour with backoff"]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"This makes it much harder for observers to correlate which UTXOs belong to you."})]})]})]}),(0,t.jsx)(d.Separator,{}),(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:"Buckets"})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage your UTXO buckets for organizing holdings."}),(0,t.jsx)("div",{className:"space-y-2",children:x.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-md border p-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.label}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["ID: ",e.id]})]}),(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",onClick:()=>{confirm(`Delete bucket "${e.label}"?`)&&(f(e.id),g(`Bucket "${e.label}" deleted.`))},children:"Delete"})]},e.id))}),(0,t.jsxs)("div",{className:"space-y-2 border-t pt-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Add New Bucket"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{className:"text-xs",children:"ID (lowercase, no spaces)"}),(0,t.jsx)(i.Input,{placeholder:"e.g., cold-c",value:b,onChange:e=>j(e.target.value.toLowerCase().replace(/\s/g,"-"))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{className:"text-xs",children:"Label"}),(0,t.jsx)(i.Input,{placeholder:"e.g., Cold-C",value:v,onChange:e=>N(e.target.value)})]})]}),(0,t.jsx)(a.Button,{size:"sm",onClick:()=>{b.trim()&&v.trim()?x.some(e=>e.id===b.trim())?g("A bucket with this ID already exists."):(h({id:b.trim(),label:v.trim()}),j(""),N(""),g(`Bucket "${v.trim()}" added.`)):g("Please enter both ID and label for the new bucket.")},children:"Add Bucket"})]})]})]}),(0,t.jsx)(d.Separator,{}),(0,t.jsxs)(s.Card,{className:"border-red-500/30",children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{className:"text-red-600 dark:text-red-400",children:"Danger Zone"})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"These actions are destructive and cannot be undone."}),(0,t.jsx)(a.Button,{variant:"destructive",onClick:C,children:"Clear All Data"})]})]})]})}e.s(["default",()=>u])}]);